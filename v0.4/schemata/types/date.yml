$schema: https://json-schema.org/draft-07/schema

definitions:

  # +----------------------------------------------------------------------+ #
  # |                                                                      | #
  # |    Type: Date                                                        | #
  # |                                                                      | #
  # |  Timestamp/date-time representation.                                 | #
  # |                                                                      | #
  # |  Valid formats:                                                      | #
  # |                                                                      | #
  # |  - date        : 2020-11-01                                          | #
  # |                                                                      | #
  # |  - time        : 03:00:00.000                                        | #
  # |                : 03:00:00                                            | #
  # |                                                                      | #
  # |  - datetime    : 2020-11-01T03:00:00.000                             | #
  # |                : 2020-11-01 03:00:00.000                             | #
  # |                : 2020-11-01T03:00:00                                 | #
  # |                : 2020-11-01 03:00:00                                 | #
  # |                                                                      | #
  # |  - datetime-tz : 2020-11-01T03:00:00.000Z                            | #
  # |                : 2020-11-01 03:00:00.000Z                            | #
  # |                : 2020-11-01T03:00:00.000-05:00                       | #
  # |                : 2020-11-01 03:00:00.000-05:00                       | #
  # |                : 2020-11-01T03:00:00Z                                | #
  # |                : 2020-11-01 03:00:00Z                                | #
  # |                : 2020-11-01T03:00:00-05:00                           | #
  # |                : 2020-11-01 03:00:00-05:00                           | #
  # |                                                                      | #
  # |  Default Format: datetime-tz                                         | #
  # +----------------------------------------------------------------------+ #

  # region Date Type: Base
  # +----------------------------------------------------------------------+ #
  # |   Date Type: Base                                                    | #
  # +----------------------------------------------------------------------+ #

  date-base:
    type: object
    properties:
      type: { enum: [ date ] }
      summary: { type: string }
      description: { type: string }
    required:
    - type

  date-ref-inline:
    title: Inline Date Type Reference
    enum:
    - date
    - date?

  date-ref-expanded:
    oneOf:
    - $ref: "#/definitions/date-ref-expanded-date"
    - $ref: "#/definitions/date-ref-expanded-time"
    - $ref: "#/definitions/date-ref-expanded-datetime"
    - $ref: "#/definitions/date-ref-expanded-datetime-tz"

  # endregion

  # region Date Type: Date
  # +----------------------------------------------------------------------+ #
  # |   Date Type: Date                                                    | #
  # +----------------------------------------------------------------------+ #

  date-base-date:
    allOf:
    - $ref: "#/definitions/date-base"
    - properties:
        format: { enum: [ date ] }
        example: { $ref: "#/definitions/date-string-date" }
        examples:
          type: array
          items: { $ref: "#/definitions/date-example-date" }

  date-ref-expanded-date:
    title: Expanded Date Type Reference
    allOf:
    - $ref: "#/definitions/date-base-date"
    - properties:
        default: { $ref: "#/definitions/date-string-date" }
        nullable:
          type: boolean
          default: false

  date-example-date:
    type: object
    properties:
      value:       { $ref: "#/definitions/date-string-date" }
      summary:     { type: string }
      description: { type: string }
    required:
    - value

  date-string-date:
    title: Date String
    type: string
    pattern: ^\d{4}-\d{2}-\d{2}$
    examples:
    - 2002-10-02

  # endregion

  # region Date Type: Time
  # +----------------------------------------------------------------------+ #
  # |   Date Type: Time                                                    | #
  # +----------------------------------------------------------------------+ #

  date-base-time:
    allOf:
    - $ref: "#/definitions/date-base"
    - properties:
        format: { enum: [ time ] }
        example: { $ref: "#/definitions/date-string-time" }
        examples:
          type: array
          items: { $ref: "#/definitions/date-example-time" }

  date-ref-expanded-time:
    title: Expanded Date Type Reference
    allOf:
    - $ref: "#/definitions/date-base-time"
    - properties:
        default: { $ref: "#/definitions/date-string-time" }
        nullable:
          type: boolean
          default: false

  date-example-time:
    type: object
    properties:
      value:       { $ref: "#/definitions/date-string-time" }
      summary:     { type: string }
      description: { type: string }
    required:
    - value

  date-string-time:
    title: Time String
    type: string
    pattern: ^\d{2}:\d{2}:\d{2}(?:\.\d+)?$
    examples:
    - 15:00:00.05
    - 15:00:00

  # endregion

  # region Date Type: Datetime
  # +----------------------------------------------------------------------+ #
  # |   Date Type: Datetime                                                | #
  # +----------------------------------------------------------------------+ #

  date-base-datetime:
    allOf:
    - $ref: "#/definitions/date-base"
    - properties:
        format: { enum: [ datetime ] }
        example: { $ref: "#/definitions/date-string-datetime" }
        examples:
          type: array
          items: { $ref: "#/definitions/date-example-datetime" }

  date-ref-expanded-datetime:
    title: Expanded Date Type Reference
    allOf:
    - $ref: "#/definitions/date-base-datetime"
    - properties:
        default: { $ref: "#/definitions/date-string-datetime" }
        nullable:
          type: boolean
          default: false

  date-example-datetime:
    type: object
    properties:
      value:       { $ref: "#/definitions/date-string-datetime" }
      summary:     { type: string }
      description: { type: string }
    required:
    - value

  date-string-datetime:
    title: Datetime String Without Timezone
    type: string
    pattern: ^\d{4}-\d{2}-\d{2}[ T]\d{2}:\d{2}:\d{2}(?:\.\d+)?$
    examples:
    - 2002-10-02T10:00:00
    - 2002-10-02T15:00:00.05
    - 2002-10-02 10:00:00
    - 2002-10-02 15:00:00.05

  # endregion

  # region Date Type: Datetime with Timezone
  # +----------------------------------------------------------------------+ #
  # |   Date Type: Datetime with Timezone                                  | #
  # +----------------------------------------------------------------------+ #

  date-base-datetime-tz:
    allOf:
    - $ref: "#/definitions/date-base"
    - properties:
        format: { enum: [ time ] }
        example: { $ref: "#/definitions/date-string-datetime-tz" }
        examples:
          type: array
          items: { $ref: "#/definitions/date-example-datetime-tz" }

  date-ref-expanded-datetime-tz:
    title: Expanded Date Type Reference
    allOf:
    - $ref: "#/definitions/date-base-datetime-tz"
    - properties:
        default: { $ref: "#/definitions/date-string-datetime-tz" }
        nullable:
          type: boolean
          default: false

  date-example-datetime-tz:
    type: object
    properties:
      value:       { $ref: "#/definitions/date-string-datetime-tz" }
      summary:     { type: string }
      description: { type: string }
    required:
    - value

  date-string-datetime-tz:
    title: Datetime String With Timezone
    type: string
    pattern: ^\d{4}-\d{2}-\d{2}[ T]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[-+]\d{2}:\d{2})$
    examples:
    - 2002-10-02T10:00:00-05:00
    - 2002-10-02T15:00:00Z
    - 2002-10-02T15:00:00.05Z
    - 2002-10-02 10:00:00+05:00
    - 2002-10-02 15:00:00Z
    - 2002-10-02 15:00:00.05Z

  # endregion
